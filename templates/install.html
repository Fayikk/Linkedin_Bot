<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Bot - Kurulum</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .install-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        .step-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .step-card:hover {
            transform: translateY(-5px);
        }
        .install-btn {
            background: linear-gradient(45deg, #0077b5, #00a0dc);
            border: none;
            border-radius: 50px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .install-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,119,181,0.3);
        }
        .log-container {
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        .status-badge {
            font-size: 1.2em;
            padding: 10px 20px;
            border-radius: 50px;
        }
    </style>
</head>
<body>
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="install-container p-5">
                    <!-- Header -->
                    <div class="text-center mb-5">
                        <h1 class="display-4 fw-bold text-primary">
                            <i class="bi bi-linkedin"></i> LinkedIn Bot Kurulum
                        </h1>
                        <p class="lead text-muted">Otomatik kurulum ile Chrome ve ChromeDriver'Ä± bilgisayarÄ±nÄ±za kurun</p>
                    </div>

                    <!-- Status -->
                    <div class="text-center mb-4">
                        <span id="installStatus" class="badge status-badge bg-warning">
                            <i class="bi bi-clock"></i> Kurulum durumu kontrol ediliyor...
                        </span>
                    </div>

                    <!-- Installation Steps -->
                    <div class="row mb-4">
                        <div class="col-md-4 mb-3">
                            <div class="card step-card h-100">
                                <div class="card-body text-center">
                                    <i class="bi bi-browser-chrome display-4 text-primary mb-3"></i>
                                    <h5 class="card-title">Chrome TarayÄ±cÄ±</h5>
                                    <p class="card-text">Google Chrome otomatik olarak indirilip kurulacak</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card step-card h-100">
                                <div class="card-body text-center">
                                    <i class="bi bi-gear-fill display-4 text-success mb-3"></i>
                                    <h5 class="card-title">ChromeDriver</h5>
                                    <p class="card-text">Chrome sÃ¼rÃ¼mÃ¼ne uygun driver indirilecek</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card step-card h-100">
                                <div class="card-body text-center">
                                    <i class="bi bi-box display-4 text-info mb-3"></i>
                                    <h5 class="card-title">Python Paketleri</h5>
                                    <p class="card-text">Gerekli Python kÃ¼tÃ¼phaneleri kurulacak</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Install Button -->
                    <div class="text-center mb-4">
                        <button id="installBtn" class="btn btn-primary install-btn btn-lg" onclick="startInstallation()">
                            <i class="bi bi-download"></i> Otomatik Kurulumu BaÅŸlat
                        </button>
                    </div>

                    <!-- Log Output -->
                    <div id="logContainer" class="d-none">
                        <h5 class="mb-3">
                            <i class="bi bi-terminal"></i> Kurulum LoglarÄ±
                        </h5>
                        <div class="log-container p-3">
                            <div id="logOutput"></div>
                        </div>
                    </div>

                    <!-- Success Actions -->
                    <div id="successActions" class="text-center d-none">
                        <div class="alert alert-success" role="alert">
                            <h4 class="alert-heading">ðŸŽ‰ Kurulum TamamlandÄ±!</h4>
                            <p>LinkedIn Bot artÄ±k kullanÄ±ma hazÄ±r.</p>
                        </div>
                        <a href="/" class="btn btn-success btn-lg">
                            <i class="bi bi-play-fill"></i> Bot'u BaÅŸlat
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    <script>
        const socket = io();
        
        // Sayfa yÃ¼klendiÄŸinde kurulum durumunu kontrol et
        socket.emit('check_installation');
        
        // Kurulum durumu gÃ¼ncelleme
        socket.on('installation_status', function(data) {
            const statusBadge = document.getElementById('installStatus');
            const installBtn = document.getElementById('installBtn');
            const successActions = document.getElementById('successActions');
            
            if (data.complete) {
                statusBadge.className = 'badge status-badge bg-success';
                statusBadge.innerHTML = '<i class="bi bi-check-circle"></i> Kurulum tamamlandÄ±';
                installBtn.style.display = 'none';
                successActions.classList.remove('d-none');
            } else {
                statusBadge.className = 'badge status-badge bg-warning';
                statusBadge.innerHTML = '<i class="bi bi-exclamation-triangle"></i> Kurulum gerekli';
                installBtn.style.display = 'inline-block';
                successActions.classList.add('d-none');
            }
        });
        
        // Log mesajlarÄ±
        socket.on('log_message', function(data) {
            const logContainer = document.getElementById('logContainer');
            const logOutput = document.getElementById('logOutput');
            
            logContainer.classList.remove('d-none');
            logOutput.innerHTML += data.message + '\\n';
            logOutput.scrollTop = logOutput.scrollHeight;
        });
        
        function startInstallation() {
            const installBtn = document.getElementById('installBtn');
            const logContainer = document.getElementById('logContainer');
            const logOutput = document.getElementById('logOutput');
            
            // Butonu devre dÄ±ÅŸÄ± bÄ±rak
            installBtn.disabled = true;
            installBtn.innerHTML = '<i class="bi bi-gear-fill spin"></i> Kuruluyor...';
            
            // Log alanÄ±nÄ± gÃ¶ster
            logContainer.classList.remove('d-none');
            logOutput.innerHTML = '';
            
            // Kurulumu baÅŸlat
            socket.emit('start_installation');
        }
    </script>
    
    <style>
        .spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</body>
</html>
